{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
    {{ super() }}
    
{% endblock %}
{% block content %}
    <div class="hero-unit">
            <h1>Power Plug Status:</h1>
            <p>status of RF-Controlled Power Plugs</p>
            <p>
            <div id="floor-plan">
            <div data-pid="1" class="plug plug-on" style="left:440px;top:50px"></div>
            <div data-pid="2" class="plug plug-off" style="left:330px;top:260px"></div>
            </div>
            
            
            
            </p>
          </div>
          <div class="row-fluid">
            <div class="span4">
              <h2>Switch Power Plugs</h2>
            </div><!--/span-->
            
          
            
            
          </div><!--/row-->
{% endblock %}


{% block script %}
<script type="text/javascript">
require(["plug", "jquery"], function(plug, $){
   
    $('plug').click(function(){
        var pid = $(this).attr('data-pid');
        var self = this;
        plug.switch(pid, function(data){
            $(self).children().toggleClass('plug-off plug-on');    
        });
        
        
    });
    
    
});
</script>
{% endblock %}
